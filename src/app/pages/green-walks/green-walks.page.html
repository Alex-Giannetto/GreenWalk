<ion-header translucent="true">
    <ion-toolbar>
        <ion-buttons slot="start">
            <ion-menu-button color="dark"></ion-menu-button>
        </ion-buttons>
        <ion-title>Les sorties</ion-title>
        <ion-buttons slot="end">
            <ion-button (click)="chooseLocation()" color="dark">
                <ion-icon slot="icon-only" name="location-outline"></ion-icon>
            </ion-button>
        </ion-buttons>
    </ion-toolbar>
</ion-header>

<ion-content fullscreen="true" slot="fixed">
    <ion-refresher (ionRefresh)="init($event)" pullFactor="0.5" pullMax="200" pullMin="100" slot="fixed">
        <ion-refresher-content></ion-refresher-content>
    </ion-refresher>
    <ion-header collapse="condense">
        <ion-toolbar>
            <ion-title size="large">Les sorties</ion-title>
        </ion-toolbar>
    </ion-header>
    <ion-progress-bar *ngIf="state.loading" color="dark" type="indeterminate"></ion-progress-bar>

    <div class="greenWalks">
        <app-green-walk-card
            *ngFor="let greenWalk of greenWalks"
            [greenWalk]="greenWalk"
        ></app-green-walk-card>
    </div>

    <ion-infinite-scroll threshold="400px" (ionInfinite)="loadNextGreenWalks($event)">
        <ion-infinite-scroll-content
            loadingSpinner="circular"
            loadingText="Chargement des donnéees…"
        ></ion-infinite-scroll-content>
    </ion-infinite-scroll>
</ion-content>
